<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/solarized.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/bootstrap.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/global.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.stickyheaders.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/underscore.min.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div class="header-row">
        <div id="menu">
  
  
    <span class="title">README</span>
  
</div>

        <div id="search" class="js-search">
  <ul>
    
      <li>
        <a href="class_list.html">
          Class List
        </a>
      </li>
    
      <li>
        <a href="method_list.html">
          Method List
        </a>
      </li>
    
      <li>
        <a href="file_list.html">
          File List
        </a>
      </li>
    
  </ul>

  <iframe id="search_frame" class="js-search-frame"></iframe>
</div>

        <div class="clear"></div>
      </div>
    </div>

    <div id="main">
      <div id="content"><div id='filecontents'><h1>Shoulda Matchers <a href="httpss://rubygems.org/gems/shoulda-matchers"><img src="https://img.shields.io/gem/v/shoulda-matchers.svg" alt="Gem Version"></a> <a href="https://travis-ci.org/thoughtbot/shoulda-matchers"><img src="https://img.shields.io/travis/thoughtbot/shoulda-matchers/master.svg" alt="Build Status"></a> <img src="https://img.shields.io/gem/dtv/shoulda-matchers.svg" alt="Downloads"> <a href="https://houndci.com"><img src="https://img.shields.io/badge/Reviewed_by-Hound-8E64B0.svg" alt="Hound"></a></h1>

<p><a href="https://matchers.shoulda.io/"><img src="https://matchers.shoulda.io/images/shoulda-matchers-logo.png" alt="shoulda-matchers"></a></p>

<p>Shoulda Matchers provides RSpec- and Minitest-compatible one-liners that test
common Rails functionality. These tests would otherwise be much longer, more
complex, and error-prone.</p>

<ul>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#getting-started">Getting started</a>

<ul>
<li><a href="#rspec">RSpec</a>

<ul>
<li><a href="#availability-of-matchers-in-various-example-groups">Availability of matchers in various example groups</a></li>
<li><a href="#should-vs-is_expectedto"><code>should</code> vs <code>is_expected.to</code></a></li>
</ul></li>
<li><a href="#minitest">Minitest</a></li>
</ul></li>
<li><a href="#matchers">Matchers</a>

<ul>
<li><a href="#activemodel-matchers">ActiveModel matchers</a></li>
<li><a href="#activerecord-matchers">ActiveRecord matchers</a></li>
<li><a href="#actioncontroller-matchers">ActionController matchers</a></li>
<li><a href="#independent-matchers">Independent matchers</a></li>
</ul></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#versioning">Versioning</a></li>
<li><a href="#license">License</a></li>
<li><a href="#about-thoughtbot">About thoughtbot</a></li>
</ul>

<h2>Documentation</h2>

<p><a href="http://matchers.shoulda.io/docs/v4.0.0.rc1">View the official documentation for the latest version (4.0.0.rc1).</a></p>

<h2>Compatibility</h2>

<p>Shoulda Matchers 4 is tested and supported against Rails 5.x, Rails 4.2, RSpec
3.x, Minitest 5, Minitest 4, and Ruby 2.2+.</p>

<p>For Rails 4.0/4.1 and Ruby 2.0/2.1 compatibility, please use shoulda-matchers
<a href="https://github.com/thoughtbot/shoulda-matchers/releases/tag/v3.1.2">3.1.2</a>.</p>

<h2>Getting started</h2>

<h3>RSpec</h3>

<p>Start by including <code>shoulda-matchers</code> in your Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="n">group</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">&#39;shoulda-matchers&#39;</span><span class="p">,</span> <span class="s1">&#39;4.0.0.rc1&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;rails-controller-testing&#39;</span> <span class="c1"># If you are using Rails 5.x</span>
<span class="k">end</span>
</code></pre>

<p>Now you need to tell the gem a couple of things:</p>

<ul>
<li>Which test framework you&#39;re using</li>
<li>Which portion of the matchers you want to use</li>
</ul>

<p>You can supply this information by using a configuration block. Place the
following in <code>rails_helper.rb</code>:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="no">Shoulda</span><span class="o">::</span><span class="no">Matchers</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="o">.</span><span class="n">integrate</span> <span class="k">do</span> <span class="o">|</span><span class="n">with</span><span class="o">|</span>
    <span class="c1"># Choose a test framework:</span>
    <span class="n">with</span><span class="o">.</span><span class="n">test_framework</span> <span class="ss">:rspec</span>
    <span class="n">with</span><span class="o">.</span><span class="n">test_framework</span> <span class="ss">:minitest</span>
    <span class="n">with</span><span class="o">.</span><span class="n">test_framework</span> <span class="ss">:minitest_4</span>
    <span class="n">with</span><span class="o">.</span><span class="n">test_framework</span> <span class="ss">:test_unit</span>

    <span class="c1"># Choose one or more libraries:</span>
    <span class="n">with</span><span class="o">.</span><span class="n">library</span> <span class="ss">:active_record</span>
    <span class="n">with</span><span class="o">.</span><span class="n">library</span> <span class="ss">:active_model</span>
    <span class="n">with</span><span class="o">.</span><span class="n">library</span> <span class="ss">:action_controller</span>
    <span class="c1"># Or, choose all of the above:</span>
    <span class="n">with</span><span class="o">.</span><span class="n">library</span> <span class="ss">:rails</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>

<p>Now you can use matchers in your tests. For instance, a model test might look
like this:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="no">RSpec</span><span class="o">.</span><span class="n">describe</span> <span class="no">Person</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:model</span> <span class="k">do</span>
  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">validate_presence_of</span><span class="p">(</span><span class="ss">:name</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre>

<h4>Availability of matchers in various example groups</h4>

<p>Since shoulda-matchers provides four categories of matchers, there are four
different levels where you can use these matchers:</p>

<ul>
<li>ActiveRecord and ActiveModel matchers are available only in model example
groups, i.e., those tagged with <code>type: :model</code> or in files located under
<code>spec/models</code>.</li>
<li>ActionController matchers are available only in controller example groups,
i.e., those tagged with <code>type: :controller</code> or in files located under
<code>spec/controllers</code>.</li>
<li>The <code>route</code> matcher is available also in routing example groups, i.e., those
tagged with <code>type: :routing</code> or in files located under <code>spec/routing</code>.</li>
<li>Independent matchers are available in all example groups.</li>
</ul>

<p><strong>If you are using ActiveModel or ActiveRecord outside of Rails</strong> and you want
to use model matchers in certain example groups, you&#39;ll need to manually include
them. Here&#39;s a good way of doing that:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="no">RSpec</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="no">Shoulda</span><span class="o">::</span><span class="no">Matchers</span><span class="o">::</span><span class="no">ActiveModel</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:model</span><span class="p">)</span>
  <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="no">Shoulda</span><span class="o">::</span><span class="no">Matchers</span><span class="o">::</span><span class="no">ActiveRecord</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:model</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>

<p>Then you can say:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="n">describe</span> <span class="no">MySpecialModel</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:model</span> <span class="k">do</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre>

<h4><code>should</code> vs <code>is_expected.to</code></h4>

<p>Note that in this README and throughout the documentation we&#39;re using the
<code>should</code> form of RSpec&#39;s one-liner syntax over <code>is_expected.to</code>. The <code>should</code>
form works regardless of how you&#39;ve configured RSpec -- meaning you can still
use it even when using the <code>expect</code> syntax. But if you prefer to use
<code>is_expected.to</code>, you can do that too:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="no">RSpec</span><span class="o">.</span><span class="n">describe</span> <span class="no">Person</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:model</span> <span class="k">do</span>
  <span class="n">it</span> <span class="p">{</span> <span class="n">is_expected</span><span class="o">.</span><span class="n">to</span> <span class="n">validate_presence_of</span><span class="p">(</span><span class="ss">:name</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre>

<h3>Minitest</h3>

<p>Shoulda Matchers was originally a component of <a href="https://github.com/thoughtbot/shoulda">Shoulda</a>, a gem that
also provides <code>should</code> and <code>context</code> syntax via
<a href="https://github.com/thoughtbot/shoulda-context"><code>shoulda-context</code></a>.</p>

<p>At the moment, <code>shoulda</code> has not been updated to support <code>shoulda-matchers</code> 3.x and 4.x,
so you&#39;ll want to add the following to your Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="n">group</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">&#39;shoulda&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 3.5&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;shoulda-matchers&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 2.0&#39;</span>
<span class="k">end</span>
</code></pre>

<p>Now you can use matchers in your tests. For instance a model test might look
like this:</p>

<pre class="code ruby"><code class="ruby"><span></span><span class="k">class</span> <span class="nc">PersonTest</span> <span class="o">&lt;</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="n">should</span> <span class="n">validate_presence_of</span><span class="p">(</span><span class="ss">:name</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>

<h2>Matchers</h2>

<h3>ActiveModel matchers</h3>

<ul>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#allow_value-instance_method" title="Shoulda::Matchers::ActiveModel#allow_value (method)">allow_value</a></span></strong>
tests that an attribute is valid or invalid if set to one or more values.
<em>(Aliased as #allow_values.)</em></li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#have_secure_password-instance_method" title="Shoulda::Matchers::ActiveModel#have_secure_password (method)">have_secure_password</a></span></strong>
tests usage of <code>has_secure_password</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_absence_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_absence_of (method)">validate_absence_of</a></span></strong>
tests usage of <code>validates_absence_of</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_acceptance_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_acceptance_of (method)">validate_acceptance_of</a></span></strong>
tests usage of <code>validates_acceptance_of</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_confirmation_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_confirmation_of (method)">validate_confirmation_of</a></span></strong>
tests usage of <code>validates_confirmation_of</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_exclusion_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_exclusion_of (method)">validate_exclusion_of</a></span></strong>
tests usage of <code>validates_exclusion_of</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_inclusion_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_inclusion_of (method)">validate_inclusion_of</a></span></strong>
tests usage of <code>validates_inclusion_of</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_length_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_length_of (method)">validate_length_of</a></span></strong>
tests usage of <code>validates_length_of</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_numericality_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_numericality_of (method)">validate_numericality_of</a></span></strong>
tests usage of <code>validates_numericality_of</code>.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveModel.html#validate_presence_of-instance_method" title="Shoulda::Matchers::ActiveModel#validate_presence_of (method)">validate_presence_of</a></span></strong>
tests usage of <code>validates_presence_of</code>.</li>
</ul>

<h3>ActiveRecord matchers</h3>

<ul>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#accept_nested_attributes_for-instance_method" title="Shoulda::Matchers::ActiveRecord#accept_nested_attributes_for (method)">accept_nested_attributes_for</a></span></strong>
tests usage of the <code>accepts_nested_attributes_for</code> macro.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#belong_to-instance_method" title="Shoulda::Matchers::ActiveRecord#belong_to (method)">belong_to</a></span></strong>
tests your <code>belongs_to</code> associations.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#define_enum_for-instance_method" title="Shoulda::Matchers::ActiveRecord#define_enum_for (method)">define_enum_for</a></span></strong>
tests usage of the <code>enum</code> macro.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#have_and_belong_to_many-instance_method" title="Shoulda::Matchers::ActiveRecord#have_and_belong_to_many (method)">have_and_belong_to_many</a></span></strong>
tests your <code>has_and_belongs_to_many</code> associations.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#have_db_column-instance_method" title="Shoulda::Matchers::ActiveRecord#have_db_column (method)">have_db_column</a></span></strong>
tests that the table that backs your model has a specific column.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#have_db_index-instance_method" title="Shoulda::Matchers::ActiveRecord#have_db_index (method)">have_db_index</a></span></strong>
tests that the table that backs your model has an index on a specific column.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#have_many-instance_method" title="Shoulda::Matchers::ActiveRecord#have_many (method)">have_many</a></span></strong>
tests your <code>has_many</code> associations.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#have_one-instance_method" title="Shoulda::Matchers::ActiveRecord#have_one (method)">have_one</a></span></strong>
tests your <code>has_one</code> associations.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#have_readonly_attribute-instance_method" title="Shoulda::Matchers::ActiveRecord#have_readonly_attribute (method)">have_readonly_attribute</a></span></strong>
tests usage of the <code>attr_readonly</code> macro.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#serialize-instance_method" title="Shoulda::Matchers::ActiveRecord#serialize (method)">serialize</a></span></strong> tests
usage of the <code>serialize</code> macro.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActiveRecord.html#validate_uniqueness_of-instance_method" title="Shoulda::Matchers::ActiveRecord#validate_uniqueness_of (method)">validate_uniqueness_of</a></span></strong>
tests usage of <code>validates_uniqueness_of</code>.</li>
</ul>

<h3>ActionController matchers</h3>

<ul>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#filter_param-instance_method" title="Shoulda::Matchers::ActionController#filter_param (method)">filter_param</a></span></strong>
tests parameter filtering configuration.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#permit-instance_method" title="Shoulda::Matchers::ActionController#permit (method)">permit</a></span></strong> tests
that an action places a restriction on the <code>params</code> hash.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#redirect_to-instance_method" title="Shoulda::Matchers::ActionController#redirect_to (method)">redirect_to</a></span></strong>
tests that an action redirects to a certain location.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#render_template-instance_method" title="Shoulda::Matchers::ActionController#render_template (method)">render_template</a></span></strong>
tests that an action renders a template.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#render_with_layout-instance_method" title="Shoulda::Matchers::ActionController#render_with_layout (method)">render_with_layout</a></span></strong>
tests that an action is rendered with a certain layout.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#rescue_from-instance_method" title="Shoulda::Matchers::ActionController#rescue_from (method)">rescue_from</a></span></strong>
tests usage of the <code>rescue_from</code> macro.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#respond_with-instance_method" title="Shoulda::Matchers::ActionController#respond_with (method)">respond_with</a></span></strong>
tests that an action responds with a certain status code.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#route-instance_method" title="Shoulda::Matchers::ActionController#route (method)">route</a></span></strong> tests
your routes.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#set_session-instance_method" title="Shoulda::Matchers::ActionController#set_session (method)">set_session</a></span></strong>
makes assertions on the <code>session</code> hash.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#set_flash-instance_method" title="Shoulda::Matchers::ActionController#set_flash (method)">set_flash</a></span></strong>
makes assertions on the <code>flash</code> hash.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#use_after_action-instance_method" title="Shoulda::Matchers::ActionController#use_after_action (method)">use_after_action</a></span></strong>
tests that an <code>after_action</code> callback is defined in your controller.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#use_around_action-instance_method" title="Shoulda::Matchers::ActionController#use_around_action (method)">use_around_action</a></span></strong>
tests that an <code>around_action</code> callback is defined in your controller.</li>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/ActionController.html#use_before_action-instance_method" title="Shoulda::Matchers::ActionController#use_before_action (method)">use_before_action</a></span></strong>
tests that a <code>before_action</code> callback is defined in your controller.</li>
</ul>

<h3>Independent matchers</h3>

<ul>
<li><strong><span class='object_link'><a href="Shoulda/Matchers/Independent.html#delegate_method-instance_method" title="Shoulda::Matchers::Independent#delegate_method (method)">delegate_method</a></span></strong>
tests that an object forwards messages to other, internal objects by way of
delegation.</li>
</ul>

<h2>Contributing</h2>

<p>Shoulda Matchers is open source, and we are grateful for
<a href="https://github.com/thoughtbot/shoulda-matchers/contributors">everyone</a> who&#39;s contributed so far.</p>

<p>If you&#39;d like to contribute, please take a look at the
<a href="CONTRIBUTING.md">instructions</a> for installing dependencies and crafting a good
pull request.</p>

<h2>Versioning</h2>

<p>Shoulda Matchers follows Semantic Versioning 2.0 as defined at
<a href="http://semver.org">http://semver.org</a>.</p>

<h2>License</h2>

<p>Shoulda Matchers is copyright © 2006-2018
<a href="https://thoughtbot.com">thoughtbot, inc</a>. It is free software,
and may be redistributed under the terms specified in the
<a href="MIT-LICENSE">MIT-LICENSE</a> file.</p>

<h2>About thoughtbot</h2>

<p><img src="https://presskit.thoughtbot.com/images/thoughtbot-logo-for-readmes.svg" alt="thoughtbot"></p>

<p>Shoulda Matchers is maintained and funded by thoughtbot, inc. The names and
logos for thoughtbot are trademarks of thoughtbot, inc.</p>

<p>We are passionate about open source software. See <a href="https://thoughtbot.com/community?utm_source=github">our other
projects</a>. We are <a href="https://thoughtbot.com?utm_source=github">available for hire</a>.</p>
</div></div>

      <div id="footer">
  Generated on
  October 2, 2018
  by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">YARD</a>.
</div>

    </div>

  </body>
</html>
